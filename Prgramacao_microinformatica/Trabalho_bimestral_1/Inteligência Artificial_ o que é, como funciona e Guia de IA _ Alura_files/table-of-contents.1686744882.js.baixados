const handleWidthChange=()=>{const article=document.querySelector('.article__main-content');const articleCosmos=document.querySelector('.article__main-content .cosmos');const h2Tags=document.querySelectorAll('.article__main-content h2');if(h2Tags.length===0){article.classList.add('--no-toc');articleCosmos.add('--no-toc');return}
const pTags=document.querySelectorAll('.article__main-content .cosmos-color > p');const tableOfContents=document.querySelector('.table-of-contents');if(window.innerWidth>=1200){article.appendChild(tableOfContents)}else if(window.innerWidth<1200){pTags[1].insertAdjacentElement('afterend',tableOfContents)}};const addGoogleTag=()=>{window.addEventListener('load',()=>{const tableOfContents=document.querySelector('.main-content__table-of-contents');if(!tableOfContents){return}
const links=tableOfContents.querySelectorAll('a');links.forEach((link)=>{link.addEventListener('click',()=>{gtag('event','clique-indice',{event_category:document.title,event_label:links.innerHTML,})})})})};handleWidthChange();addGoogleTag();window.addEventListener('resize',()=>{handleWidthChange()})