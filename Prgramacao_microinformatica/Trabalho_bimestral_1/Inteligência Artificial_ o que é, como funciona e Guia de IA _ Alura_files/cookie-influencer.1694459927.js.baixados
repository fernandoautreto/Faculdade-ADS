(()=>{const urlParams=new URLSearchParams(window.location.search);const cookieValue=urlParams.get('c');const pathname=window.location.pathname;const isHome=pathname==='/';const isInfluencer=pathname.startsWith("/promocao")
const date=new Date();date.setTime(date.getTime()+(60*60*1000));const expires="expires="+date.toUTCString();if(cookieValue&&!isHome){document.cookie="influencer="+cookieValue+";"+expires+";path=/"}else if(isInfluencer){const value=pathname.split("/")[2]
document.cookie="influencer="+value+";"+expires+";path=/"}else{document.cookie="influencer=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}
window.addEventListener('load',()=>{if(document.cookie.includes('influencer')){const cookieValue=document.cookie.replace(/(?:(?:^|.*;\s*)influencer\s*\=\s*([^;]*).*$)|^.*$/,'$1');const links=document.querySelectorAll('a');links.forEach(element=>{if(element.href===(window.location.origin+'/'))return;if(element.href===window.location.origin)return;if(element.href.includes('#'))return;const exceptions=['cursos.alura.com.br','/dev-em-t','/empresas','youtube.com','linkedin.com','facebook.com','twitter.com',];if(exceptions.some(exception=>element.href.includes(exception)))return;const parents=['no-cookie-influencer','caelum-footer','footer','planos-pagamento','parceriaBanner-bar-middle-page'];if(parents.some(parent=>element.closest('.'+parent)))return;const url=element.href;element.href=url+'?c='+cookieValue})}});function removeParameterFromURL(url,parameter){const urlParts=url.split('?');if(urlParts.length>=2){const prefix=encodeURIComponent(parameter)+'=';const query=urlParts[1].split('&').filter((param)=>param.indexOf(prefix)!==0).join('&');return urlParts[0]+(query?'?'+query:'')}
return url}
if(pathname==='/'){const currentURL=window.location.href;const updatedURL=removeParameterFromURL(currentURL,'c');if(currentURL!==updatedURL){window.location.replace(updatedURL)}}})()